<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order By ArfaRotan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .btn-primary {
            background-color: #1E3A8A;
            color: white;
        }
        .btn-primary:hover {
            background-color: #1D4ED8;
        }
        .header-bg {
            background: linear-gradient(135deg, #1E3A8A 0%, #87CEEB 100%);
        }
        .fade-in {
            animation: fadeIn 2s ease-in-out;
        }
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        .slide-up {
            animation: slideUp 1s ease-in-out;
        }
        @keyframes slideUp {
            0% { transform: translateY(20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .shadow-lg {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="bg-white shadow">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a class="navbar-brand text-xl font-bold text-blue-700" href="#">
                ArfaRotan
            </a>
        </div>
    </nav>
    <header class="header-bg text-white text-center py-10 fade-in">
        <div class="container mx-auto">
            <h1 class="text-4xl font-bold">
                Selamat Datang di ArfaRotan
            </h1>
            <p class="mt-4 text-lg">
                Silakan isi formulir di bawah ini untuk memesan produk rotan berkualitas kami.
            </p>
        </div>
    </header>
    <section class="py-10 fade-in">
        <div class="container mx-auto px-4">
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <div class="mb-4">
                    <label class="block text-gray-700" for="produk">
                        Pilih Produk
                    </label>
                    <select class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" id="produk" onchange="updateJenisOptions(); hitungHarga();">
                        <option value="Tikar Open">Tikar Open</option>
                        <option value="Square">Square</option>
                        <option value="Xita">Xita</option>
                        <option value="Tikar Close">Tikar Close</option>
                        <option value="Kembang Tanjung Bunga">Kembang Tanjung Bunga</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700" for="jenis">
                        Pilih Jenis
                    </label>
                    <select class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" id="jenis" onchange="hitungHarga()">
                        <option value="A">A</option>
                        <option value="AB">AB</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700" for="ukuran">
                        Pilih Ukuran
                    </label>
                    <select class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" id="ukuran" onchange="hitungHarga()">
                        <option value="40">40 cm</option>
                        <option value="45">45 cm</option>
                        <option value="50">50 cm</option>
                        <option value="60">60 cm</option>
                        <option value="70">70 cm</option>
                        <option value="80">80 cm</option>
                        <option value="90">90 cm</option>
                        <option value="100">100 cm</option>
                        <option value="120">120 cm</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700" for="jumlah">
                        Jumlah Pembelian
                    </label>
                    <input type="number" id="jumlah" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" value="1" min="1" onchange="hitungHarga()">
                </div>
                <div id="hasilHarga" class="mt-6 text-center">
                    <h2 class="text-xl font-semibold">Total Harga: Rp <span id="totalHarga" class="font-bold"></span></h2>
                    <p class="text-sm text-gray-500">*Harga tidak termasuk ongkir</p>
                </div>
                <div class="mt-6">
                    <label class="block text-gray-700" for="message">
                        Pesan Tambahan
                    </label>
                    <textarea class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" id="message" name="message"></textarea>
                </div>
                <div class="mt-4">
                    <label class="block text-gray-700" for="address">
                        Alamat Lengkap
                    </label>
                    <textarea class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" id="address" name="address"></textarea>
                </div>
                <button class="w-full btn-primary py-2 px-4 rounded mt-6" onclick="handleOrder()" type="button">
                    Beli Sekarang
                </button>
            </div>
        </div>
    </section>
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>
                Â© 2017 PT Perintis Arfa Abadi. All rights reserved.
            </p>
        </div>
    </footer>

    <script>
        const hargaData = {
            "Tikar Open": {
                "A": {
                    40: 1320000,
                    45: 1485000,
                    50: 1650000,
                    60: 1980000,
                    70: 2625000,
                    80: 3000000,
                    90: 3375000,
                    100: 3750000,
                    120: 5400000
                },
                "AB": {
                    40: 1200000,
                    45: 1350000,
                    50: 1500000,
                    60: 1800000,
                    70: 2310000,
                    80: 2640000,
                    90: 2970000,
                    100: 3300000,
                    120: 4860000
                }
            },
            "Square": {
                "A": {
                    40: 900000,
                    45: 1012000,
                    50: 1125000,
                    60: 1350000,
                    70: 1785000,
                    80: 2040000,
                    90: 2295000,
                    100: 2550000,
                    120: 3600000
                }
            },
            "Xita": {
                "A": {
                    40: 1320000,
                    45: 1485000,
                    50: 1650000,
                    60: 1980000,
                    70: 2625000,
                    80: 3120000,
                    90: 3510000,
                    100: 3900000,
                    120: 5580000
                },
                "AB": {
                    40: 1260000,
                    45: 1417000,
                    50: 1575000,
                    60: 1890000,
                    70: 2520000,
                    80: 3000000,
                    90: 3375000,
                    100: 3750000,
                    120: 5400000
                }
            },
            "Tikar Close": {
                "A": {
                    40: 780000,
                    45: 877000,
                    50: 975000,
                    60: 1170000,
                    70: 1575000,
                    80: 1800000,
                    90: 2025000,
                    100: 2250000,
                    120: 3240000
                },
                "AB": {
                    40: 720000,
                    45: 810000,
                    50: 900000,
                    60: 1080000,
                    70: 1470000,
                    80: 1680000,
                    90: 1890000,
                    100: 2100000,
                    120: 3060000
                }
            },
            "Kembang Tanjung Bunga": {
                "A": {
                    40: 2220000,
                    45: 2497000,
                    50: 2775000,
                    60: 3330000,
                    70: 4200000,
                    80: 4800000,
                    90: 5400000,
                    100: 6000000,
                    120: 8100000
                }
            }
        };

        function formatRupiah(angka) {
            let rupiah = '';
            const angkarev = angka.toString().split('').reverse().join('');
            for (let i = 0; i < angkarev.length; i++) {
                if (i % 3 === 0) rupiah += angkarev.substr(i, 3) + '.';
            }
            return rupiah.split('', rupiah.length - 1).reverse().join('');
        }

        function updateJenisOptions() {
            const produk = document.getElementById("produk").value;
            const jenisSelect = document.getElementById("jenis");

            if (produk === "Kembang Tanjung Bunga") {
                jenisSelect.innerHTML = '<option value="A">A</option>';
            } else {
                jenisSelect.innerHTML = '<option value="A">A</option><option value="AB">AB</option>';
            }
        }

        function hitungHarga() {
            const produk = document.getElementById("produk").value;
            const jenis = document.getElementById("jenis").value;
            const ukuran = parseInt(document.getElementById("ukuran").value);
            const jumlah = parseInt(document.getElementById("jumlah").value);

            const hargaSatuan = hargaData[produk][jenis][ukuran];
            const totalHarga = hargaSatuan * jumlah;

            const totalHargaFormatted = formatRupiah(totalHarga);
            document.getElementById("totalHarga").innerText = totalHargaFormatted;
        }

        function generateWhatsAppLink() {
            const produk = document.getElementById('produk').value;
            const jenis = document.getElementById('jenis').value;
            const ukuran = document.getElementById('ukuran').value;
            const jumlah = document.getElementById('jumlah').value;
            const totalHarga = document.getElementById('totalHarga').innerText;
            const message = document.getElementById('message').value;
            const address = document.getElementById('address').value;
            const baseUrl = "https://wa.me/6283197301741";
            const orderMessage = `Pesanan Rotan Arfa Rotan\n\nJenis: ${produk}\nUkuran: ${ukuran}\nJenis: ${jenis}\nJumlah: ${jumlah}\nTotal Harga: Rp ${totalHarga}\n\n---\n\nPesan: ${message}\nAlamat: ${address}\n\nð¦ Terima kasih atas pesanan Anda! ð\n\n*Harga tidak termasuk ongkir`;
            return `${baseUrl}?text=${encodeURIComponent(orderMessage)}`;
        }

        function handleOrder() {
            const link = generateWhatsAppLink();
            window.open(link, '_blank');
        }

        document.getElementById('produk').addEventListener('change', updateJenisOptions);
        document.getElementById('produk').addEventListener('change', hitungHarga);
        document.getElementById('jenis').addEventListener('change', hitungHarga);
        document.getElementById('ukuran').addEventListener('change', hitungHarga);
        document.getElementById('jumlah').addEventListener('change', hitungHarga);

        // Initial calculation
        hitungHarga();
    </script>
</body>
</html>
